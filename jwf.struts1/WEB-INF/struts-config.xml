<!DOCTYPE struts-config PUBLIC
          "-//Apache Software Foundation//DTD Struts Configuration 1.1//EN"
          "http://jakarta.apache.org/struts/dtds/struts-config_1_1.dtd"> 

<!--
 *** The top-level ordering imposed by the DTD.
<!ELEMENT struts-config (data-sources?, form-beans?, global-exceptions?, 
	global-forwards?, action-mappings?, controller?, 
	message-resources*, plug-in*)>
 -->

<struts-config>

	<form-beans>
		<!-- Used in the Demo, for inserting a Person -->
		<form-bean name="addPersonDynaForm"
			type="org.apache.struts.action.DynaActionForm">
			<form-property name="firstName" type="java.lang.String"/>
			<form-property name="lastName" type="java.lang.String"/>
			<form-property name="address1" type="java.lang.String"/>
			<form-property name="address2" type="java.lang.String"/>
			<form-property name="city" type="java.lang.String"/>
			<form-property name="province" type="java.lang.String"/>
			<form-property name="postcode" type="java.lang.String"/>
			<form-property name="country" type="java.lang.String"/>
			<form-property name="email" type="java.lang.String"/>
		</form-bean>

		<!-- For entering a new Framework into the Catalog -->
		<form-bean name="addFrameworkDynaForm"
			type="beans.Framework">
		</form-bean>
	</form-beans>

	<global-forwards type="org.apache.struts.action.ActionForward">
		<forward name="success" path="/struts/thankyou.jsp" redirect="false"/>
		<forward name="insert.success" path="/thankyou.jsp" redirect="false"/>
	</global-forwards>

	<action-mappings>

		<!-- the mapping for inserting a Person -->
		<action path="/struts/process"
			input="/struts/index.jsp"
			name="addPersonDynaForm"
			type="struts.InsertAction"
			scope="request"
			validate="true">
		</action>

		<!-- the mapping for inserting a new Framework in the catalog -->
		<action path="/editing/insert"
			input="/editing/addframework.jsp"
			name="addFrameworkDynaForm"
			type="actions.InsertFrameworkAction"
			scope="request"
			validate="false">	<!-- until you hook in DynaValidator -->
			<forward name="next" path="/listframeworks.do" redirect="false"/>
		</action>
		<!-- the mapping for listing the Frameworks in the catalog -->
		<action path="/listframeworks"
			name="addFrameworkDynaForm"
			type="actions.ListFrameworksAction"
			scope="request"
			>
			<forward name="next" path="/listframeworks.jsp" redirect="false"/>
		</action>

	</action-mappings>

	<message-resources parameter="metadata.ApplicationResources"/>

	<plug-in className="org.apache.struts.validator.ValidatorPlugIn">
		<set-property property="pathnames"
			value="/WEB-INF/validator-rules.xml,/WEB-INF/validation.xml"/>
	</plug-in>

</struts-config>
